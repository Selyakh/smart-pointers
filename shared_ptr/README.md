# Проект умного указателя SharedPtr с поддержкой подсчета ссылок

## Описание проекта
Данный проект реализует умный указатель SharedPtr на языке C++ с поддержкой подсчета ссылок для безопасного управления динамической памятью. Основной задачей SharedPtr является автоматическое освобождение ресурсов, когда больше ни один объект не ссылается на управляемый ресурс. Проект также включает тестирование функциональности с помощью библиотеки Catch2 для проверки корректности работы указателя, включая копирование, перемещение, подсчет ссылок, сброс и работу с операторами *, -> и bool.

## Функциональные возможности
1. **Конструкторы:**

   - Конструктор по умолчанию.
   - Конструктор от указателя.
   - Конструктор копирования.
   - Перемещающий конструктор.

2. **Операторы присваивания:**
   - Копирующее присваивание.
   - Перемещающее присваивание.
     
3. **Методы:**

   - Release(): Освобождает управление ресурсом.
   - Reset(): Меняет указатель, которым управляет объект.
   - Swap(): Меняет местами два SharedPtr.
   - Get(): Возвращает сырой указатель.
   - UseCount(): Возвращает количество ссылок на управляемый объект.

4. **Операторы:**

   - Оператор разыменования *.
   - Оператор доступа к членам ->.
   - Оператор преобразования в bool.

## Тестирование
Для тестирования реализации используется фреймворк Catch2. В тестах проверяются различные аспекты работы SharedPtr, включая конструкторы, операторы присваивания, подсчёт ссылок, методы Swap и Reset, а также работу с операторами.

## Структура проекта
+ shared_ptr.h — заголовочный файл, содержащий реализацию шаблонного класса `SharedPtr`.
+ shared_ptr_public_test.cpp — файл с тестами для проверки функциональности класса.
+ CMakeLists.txt — Файл конфигурации сборки для CMake.

## Зависимости
+ C++17 или новее.
+ Catch2 — Фреймворк для модульного тестирования.

## Сборка проекта
Шаг 1: Сборка проекта
1. Создайте директорию для сборки:
```bash
mkdir build
cd build
```
2. Сборка с использованием CMake:
```bash
cmake ..
make
```
Шаг 2: Запуск тестов

После успешной сборки вы можете запустить тесты:
```bash
./shared_ptr_public_test
```

## Пример использования
```cpp
#include <iostream>
#include "shared_ptr.h"

int main() {
  SharedPtr<int> ptr(new int(10));
  std::cout << "ptr value: " << *ptr << '\n';                // .. 10
  std::cout << "ptr use count: " << ptr.UseCount() << '\n';  // .. 1

  SharedPtr<int> ptr2 = ptr;
  std::cout << "ptr2 value: " << *ptr2 << '\n';                         // ..10
  std::cout << "ptr use count after copy: " << ptr.UseCount() << '\n';  // .. 2

  SharedPtr<int> ptr3 = std::move(ptr);
  std::cout << "ptr3 value: " << *ptr3 << '\n';                             // .. 10
  std::cout << "ptr3 use count: " << ptr3.UseCount() << '\n';               // .. 2
  std::cout << "ptr is now nullptr: " << (ptr ? "false" : "true") << '\n';  // .. true

  // Сброс указателя
  ptr2.Reset();
  std::cout << "ptr2 after reset: " << (ptr2 ? "valid" : "null") << '\n';       // .. null
  std::cout << "ptr3 use count after ptr2 reset: " << ptr3.UseCount() << '\n';  // .. 1

  return 0;
}
```

## Лицензия
Проект распространяется под лицензией MIT. Подробнее см. файл LICENSE.

## Авторство
+ Реализация класса SharedPtr — Ирина Селях.
+ Тесты, используемые в данном проекте, были взяты из внешних источников для проверки корректности работы кода.
